{% extends "layout.html" %}{% block content %}

<!-- display all books in 'books' variable as bootstrap cards -->
<!-- each book contains name price and image -->
<div class="container">
  <h1>All Books</h1>
  <br />

  <!-- FLASH messages if any -->
  {% with messages = get_flashed_messages() %} {% if messages %} {% for message
  in messages %}
  <div id="flash-message" class="alert alert-info" role="alert">
    {{ message }}
  </div>
  {% endfor %} {% endif %} {% endwith %}

  <div class="row">
    {% for book in books %}
    <div class="card">
      <img src="{{book.image}}" class="cardimage" />
      <p>{{book.name}}</p>
      <p>${{book.price}}</p>
      <!-- view book details button -->
      <!-- goes to /bookDetails route passing in the book id of the clicked book -->
      <a class="btn btn-primary" href="/bookDetails?book_id={{ book.id }}"
        >View Details</a
      >
      <!-- add to card button -->
      <!-- goes to /addtocart route passing in the book id of the clicked book -->
      <a class="btn btn-success" href="/addtocart?book_id={{ book.id }}"
        >Add To Cart</a
      >
    </div>
    {% endfor %}
  </div>
  <br />
</div>

{% endblock content %}
